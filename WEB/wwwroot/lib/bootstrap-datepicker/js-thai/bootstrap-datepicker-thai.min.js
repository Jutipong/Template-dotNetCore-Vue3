(function(n){function u(n){return n.search("-"+t.code)>=0}function o(n){return n.search(t.code)>=0}function s(n,i){return o(i)&&n>=t.bound&&(n-=t.adj),u(i)&&n<t.bound-t.adj&&(n-=t.adj),n}function h(n,i){return n<100&&(n>=t.shwrap&&(n-=100),o(i)&&n>=t.shbound&&(n-=t.adj%100),n+=t.shbase),n}function c(n,t){return s(h(n,t),t)}function l(){return new Date(Date.UTC.apply(Date,arguments))}var a=n.fn.datepicker.dates,i=n.fn.datepicker.DPGlobal,t={adj:543,code:"th",bound:2400,shbound:40,shwrap:84,shbase:2e3},f,e,r;i.name&&i.name.search(/.th$/)>=0||(f=n.extend({},i),n.extend(i,{name:(f.name||"")+".th",parseDate:function(t,r,u){var e,h,v,a,s,y;if(t==""&&(t=new Date,t=l(t.getFullYear(),t.getMonth(),t.getDate(),0,0,0)),o(u)&&!(t instanceof Date||/^[-+].*/.test(t))&&(e=r,h=t&&t.match(this.nonpunctuation)||[],typeof e=="string"&&(e=i.parseFormat(r)),h.length==e.parts.length)){for(v=n.extend([],e.separators),a=[],s=0,y=e.parts.length;s<y;s++)~["yyyy","yy"].indexOf(e.parts[s])&&(h[s]=""+c(parseInt(h[s],10),u)),v.length&&a.push(v.shift()),a.push(h[s]);t=a.join("")}return f.parseDate.call(this,t,r,u)},formatDate:function(r,e,o){var c=f.formatDate.call(this,r,e,o),a,l,h,y;if(u(o)){var s=e,v=c&&c.match(this.nonpunctuation)||[],p={yy:(t.adj+r.getUTCFullYear()).toString().substring(2),yyyy:(t.adj+r.getUTCFullYear()).toString()};if(typeof s=="string"&&(s=i.parseFormat(e)),v.length==s.parts.length){for(a=n.extend([],s.separators),l=[],h=0,y=s.parts.length;h<y;h++)a.length&&l.push(a.shift()),l.push(p[s.parts[h]]||v[h]);c=l.join("")}}return c}}),e=n.fn.datepicker.Constructor,e.prototype.fillThai||(r=n.extend({},e.prototype),n.extend(e.prototype,{fillThai:function(){var i=new Date(this.viewDate),r=i.getUTCFullYear(),f=i.getUTCMonth(),u=this.picker.find(".datepicker-days th:eq(1)",yearStart="",yearEnd="");u.text(u.text().replace(""+r,""+(r+t.adj)));this.picker.find(".datepicker-months").find("th:eq(2)").text(""+(r+t.adj));this.picker.find(".datepicker-years").find("th:eq(2)").text(parseInt(i.getUTCFullYear()/10,10)*10+543+"-"+((parseInt(i.getUTCFullYear()/10,10)+1)*10- -542)).end().find("td").find("span.year").each(function(){n(this).text(Number(n(this).text())+t.adj)});this.picker.find(".datepicker-decades").find("th:eq(2)").text(parseInt(i.getUTCFullYear()/100,10)*100+543+"-"+((parseInt(i.getUTCFullYear()/100,10)+1)*100- -533)).end().find("td").find("span.decade").each(function(){n(this).text(Number(n(this).text())+t.adj)});this.picker.find(".datepicker-centuries").find("th:eq(2)").text(parseInt(i.getUTCFullYear()/1e3,10)*1e3+543+"-"+((parseInt(i.getUTCFullYear()/1e3,10)+1)*1e3- -443)).end().find("td").find("span.century").each(function(){n(this).text(Number(n(this).text())+t.adj)})},fill:function(){r.fill.call(this);u(this.o.language)&&this.fillThai()},clickThai:function(i){var r=n(i.target).closest("span");r.length===1&&r.is(".year")&&r.text(Number(r.text())-t.adj);r.length===1&&r.is(".decade")&&r.text(Number(r.text())-t.adj);r.length===1&&r.is(".century")&&r.text(Number(r.text())-t.adj)},click:function(n){u(this.o.language)&&this.clickThai(n);r.click.call(this,n)},keydown:function(t){if(this.picker.is(":not(:visible)")&&t.keyCode==40&&n(t.target).is('[autocomplete="off"]')){this.show();return}r.keydown.call(this,t)},hide:function(n){this.picker.is(":visible")&&r.hide.call(this,n)}})))})(jQuery);